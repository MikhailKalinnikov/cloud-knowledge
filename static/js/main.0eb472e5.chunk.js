(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,s){},29:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),r=s(13),n=s.n(r),i=(s(28),s(10)),l=(s(29),s(5)),o=s(3),j=s(9),d="GET_ALL_ITEMS",b="FILTERING",u=s(1),h=function(e){var t=e.payment,s=e.setPayment,c=Object(j.b)();return Object(u.jsx)("div",{className:"l-header",children:Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(l.b,{to:"/",className:"header-logo",children:Object(u.jsx)("h3",{children:"\u041e\u0431\u043b\u0430\u043a\u043e \u0437\u043d\u0430\u043d\u0438\u0439"})}),Object(u.jsxs)("div",{className:"header-nav",children:[Object(u.jsx)(l.b,{to:"#",className:"header-btn header-btn-primary",onClick:function(){s("\u0420\u0443\u0431\u043b\u0438"===t?"\u0411\u043e\u043d\u0443\u0441\u044b":"\u0420\u0443\u0431\u043b\u0438")},children:t}),Object(u.jsx)(l.b,{to:"/catalog",className:"header-btn header-btn-primary",onClick:function(){c({type:b,payload:!1})},children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(u.jsx)(l.b,{to:"#",className:"header-btn header-btn-primary",children:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"}),Object(u.jsx)(l.b,{to:"#",className:"header-btn header-btn-primary",children:"\u0412\u0445\u043e\u0434"})]})]})})},O=s(20),p=s.n(O),m=s(22),x=["\u0410\u043b\u0433\u0435\u0431\u0440\u0430","\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a","\u0411\u0438\u043e\u043b\u043e\u0433\u0438\u044f","\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u044f","\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u044f","\u0414\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u044f","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0430","\u0418\u0441\u0442\u043e\u0440\u0438\u044f","\u041b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430","\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u0437\u043d\u0430\u043d\u0438\u0435","\u041e\u043a\u0440\u0443\u0436\u0430\u044e\u0449\u0438\u0439 \u043c\u0438\u0440","\u0420\u043e\u0431\u043e\u0442\u043e\u0442\u0435\u0445\u043d\u0438\u043a\u0430","\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a","\u0424\u0438\u0437\u0438\u043a\u0430","\u0425\u0438\u043c\u0438\u044f"],g=["\u0414\u0435\u043c\u043e","\u0417\u0430\u0434\u0430\u0447\u043d\u0438\u043a","\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0412\u041f\u0420","\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0415\u0413\u042d","\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0442\u0435\u0442\u0440\u0430\u0434\u044c"],f=["","1","2","3","4","5","6","7","8","9"," 10"," 11"];var v=function(e){var t=e.payment,s=Object(j.c)((function(e){return e.items}));return Object(u.jsx)("ul",{className:"courses-list",id:"courseslist",children:s.map((function(e){return Object(u.jsxs)("li",{className:"courses-sci",children:[Object(u.jsx)("div",{className:"sci-figure",children:Object(u.jsx)("img",{src:"#",alt:e.subject})}),Object(u.jsxs)("div",{className:"sci-info",children:[Object(u.jsx)("p",{className:"sci-title",children:e.subject}),e.grade.split(";").length>1?Object(u.jsxs)("p",{className:"sci-grade",children:[e.grade.split(";")[0]," -\xa0",e.grade.split(";")[e.grade.split(";").length-1],"\xa0\u043a\u043b\u0430\u0441\u0441\u044b"]}):Object(u.jsxs)("p",{className:"sci-grade",children:[e.grade,"\xa0\u043a\u043b\u0430\u0441\u0441"]}),Object(u.jsx)("p",{className:"sci-genre",children:e.genre}),Object(u.jsx)("p",{className:"sci-meta",children:Object(u.jsx)(l.b,{to:"#",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}),Object(u.jsx)("p",{className:"sci-controls",children:Object(u.jsx)("button",{className:"pure-button pure-button-primary btn-fluid",children:"\u0420\u0443\u0431\u043b\u0438"===t.payment?Object(u.jsxs)("h6",{children:[e.price," \u0440\u0443\u0431."]}):Object(u.jsxs)("h6",{children:[e.priceBonus," \u0431\u043e\u043d."]})})})]})]},e.courseHash)}))})},N=function(e){var t=e.afterFilteredSubject,s=e.payment;return Object(u.jsx)("ul",{className:"courses-list",id:"courseslist",children:t.map((function(e){return Object(u.jsxs)("li",{className:"courses-sci",children:[Object(u.jsx)("div",{className:"sci-figure",children:Object(u.jsx)("img",{src:"#",alt:e.subject})}),Object(u.jsxs)("div",{className:"sci-info",children:[Object(u.jsx)("p",{className:"sci-title",children:e.subject}),e.grade.split(";").length>1?Object(u.jsxs)("p",{className:"sci-grade",children:[e.grade.split(";")[0]," -\xa0",e.grade.split(";")[e.grade.split(";").length-1],"\xa0\u043a\u043b\u0430\u0441\u0441\u044b"]}):Object(u.jsxs)("p",{className:"sci-grade",children:[e.grade,"\xa0\u043a\u043b\u0430\u0441\u0441"]}),Object(u.jsx)("p",{className:"sci-genre",children:e.genre}),Object(u.jsx)("p",{className:"sci-meta",children:Object(u.jsx)(l.b,{to:"#",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}),Object(u.jsx)("p",{className:"sci-controls",children:Object(u.jsx)("button",{className:"pure-button pure-button-primary btn-fluid",children:"\u0420\u0443\u0431\u043b\u0438"===s.payment?Object(u.jsxs)("h6",{children:[e.price," \u0440\u0443\u0431."]}):Object(u.jsxs)("h6",{children:[e.priceBonus," \u0431\u043e\u043d."]})})})]})]},e.courseHash)}))})},y=function(e){var t=Object(j.c)((function(e){return e.items})),s=Object(j.c)((function(e){return e.isFiltered})),a=Object(c.useState)(t),r=Object(i.a)(a,2),n=r[0],l=r[1],o=Object(c.useState)(""),h=Object(i.a)(o,2),O=h[0],y=h[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),S=C[0],L=C[1],k=Object(c.useState)(""),F=Object(i.a)(k,2),E=F[0],I=F[1],T=Object(c.useState)(""),J=Object(i.a)(T,2),M=J[0],B=J[1],P=Object(j.b)(),z=Object(c.useCallback)(Object(m.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://krapipl.imumk.ru:8443/api/mobilev1/update",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:""})});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,P({type:d,payload:s.items});case 7:case"end":return e.stop()}}),e)}))),[P]);Object(c.useEffect)((function(){z()}),[z]);var D=Object(c.useCallback)((function(){P(""===O&&""===S&&""===E?{type:b,payload:!1}:{type:b,payload:!0});var e=t.filter((function(e){return e.subject.toString().toLowerCase().indexOf(O.toLowerCase())>-1&&e.genre.toString().toLowerCase().indexOf(S.toLowerCase())>-1&&e.grade.toString().toLowerCase().indexOf(E.toLowerCase())>-1}));l(e)}),[t,O,S,E,P]);Object(c.useEffect)((function(){D()}),[S,O,E]);return console.log(s),Object(u.jsxs)("div",{className:"l-container-4",children:[Object(u.jsx)("h1",{className:"u-text-center",children:"\u0412\u0438\u0442\u0440\u0438\u043d\u0430"}),Object(u.jsx)("div",{className:"courses u-mt-30",children:Object(u.jsxs)("div",{className:"courses-form form d-flex justify-content-evenly",id:"filterform",children:[Object(u.jsx)("div",{className:"navs",children:Object(u.jsxs)("select",{className:"strings",id:"subj",name:"subj",onChange:function(e){return y(e.target.value)},children:[Object(u.jsxs)("option",{value:"",defaultChecked:!0,children:["","\u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b"]},"default"),x.map((function(e,t){return Object(u.jsx)("option",{children:e},t)}))]})}),Object(u.jsx)("div",{className:"navs",children:Object(u.jsxs)("select",{className:"strings",id:"genre",name:"genre",onChange:function(e){return L(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0436\u0430\u043d\u0440\u044b"}),g.map((function(e,t){return Object(u.jsx)("option",{children:e},t)}))]})}),Object(u.jsx)("div",{className:"navs",children:Object(u.jsxs)("select",{className:"strings",id:"grade",name:"grade",onChange:function(e){return I(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u043a\u043b\u0430\u0441\u0441\u044b"}),f.map((function(e,t){return Object(u.jsx)("option",{children:e},t)}))]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{className:"borderFind",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",id:"search",name:"search",value:M,onChange:function(e){return B(e.target.value)}}),Object(u.jsx)("button",{className:"courses-form-search-btn",type:"submit",title:"\u041d\u0430\u0439\u0442\u0438",onClick:function(e){e.preventDefault(),P(""===O&&""===S&&""===E?{type:b,payload:!1}:{type:b,payload:!0});var s=t.filter((function(e){return e.subject.toString().toLowerCase().includes(M.toLowerCase())?(y(M),L(""),I(""),e.subject.toString().toLowerCase().indexOf(O.toLowerCase())>-1):e.genre.toString().toLowerCase().includes(M.toLowerCase())?(y(""),L(M),I(""),e.genre.toString().toLowerCase().indexOf(S.toLowerCase())>-1):e.grade.toString().toLowerCase().includes(M.toLowerCase())?(y(""),L(""),I(M),e.grade.toString().toLowerCase().indexOf(E.toLowerCase())>-1):e}));l(s),B("")},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"grey",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})]})}),s?Object(u.jsx)(N,{payment:e,afterFilteredSubject:n}):Object(u.jsx)(v,{payment:e})]})},w=function(){var e=Object(c.useState)("\u0420\u0443\u0431\u043b\u0438"),t=Object(i.a)(e,2),s=t[0],a=t[1];return Object(u.jsxs)(l.a,{children:[Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(h,{payment:s,setPayment:a})})}),Object(u.jsx)(o.c,{children:Object(u.jsx)(o.a,{path:"/catalog",children:Object(u.jsx)(y,{payment:s})})})]})},C=s(15),S=s(23),L=function(){var e=JSON.parse(window.localStorage.getItem("knowledge"));return e||{items:[],isFiltered:!1}},k=s(21),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{items:t.payload};case b:return Object(k.a)(Object(k.a)({},e),{},{isFiltered:t.payload});default:return e}},E=Object(C.createStore)(F,L(),Object(S.composeWithDevTools)(Object(C.applyMiddleware)()));E.subscribe((function(){window.localStorage.setItem("knowledge",JSON.stringify(E.getState()))})),n.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(j.a,{store:E,children:Object(u.jsx)(w,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.0eb472e5.chunk.js.map